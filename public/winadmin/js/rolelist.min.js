layui.config({base:"../../lib/winui/",version:"1.0.0-beta"}).define(["table","jquery","winui"],function(n){function u(){i.reload(r,{})}function e(){top.winui.window.msg("自行脑补画面",{icon:2,time:2e3})}function f(n,t){var i=t?"确认删除角色【"+t.data.roleName+"】吗？":"确认删除选中数据吗？";top.winui.window.confirm(i,{icon:3,title:"删除系统角色"},function(n){layer.close(n);t?(top.winui.window.msg("删除成功",{icon:1,time:2e3}),t.del()):(top.winui.window.msg("向服务端发送删除指令后刷新表格即可",{time:2e3}),u())})}winui.renderColor();var i=layui.table,t=layui.$,r="tableid";i.render({id:r,elem:"#role",url:"../../json/rolelist.json",page:!0,limits:[8,16,24,32,40,48,56],limit:8,cols:[[{field:"id",type:"checkbox"},{field:"roleName",title:"名称",width:120},{field:"description",title:"描述",width:582},{field:"dataState",title:"状态",width:60,templet:"#stateTpl"},{title:"操作",fixed:"right",align:"center",toolbar:"#barRole",width:120}]]});i.on("tool(roletable)",function(n){var i=n.data,u=n.event,s=n.tr,e="",o,r;if(t(i).each(function(n,t){e+=t.id+","}),u==="del")f(e,n);else if(u==="edit"){if(!i.id)return;r=layer.load(1);t.ajax({type:"get",url:"edit.html?id="+i.id,async:!0,success:function(n){layer.close(r);o=n;top.winui.window.open({id:"editRole",type:1,title:"编辑角色",content:o,area:["60vw","70vh"],offset:["15vh","20vw"]});top.winui.window.msg("选择框带联动的,尽情享用",{time:2e3})},error:function(n){layer.close(r);top.winui.window.msg("获取页面失败",{icon:2,time:2e3});console.log(n.responseText)}})}});t("#addRole").on("click",e);t("#deleteRole").on("click",function(){var u=i.checkStatus(r),e=u.data.length,n;if(e<1)return top.winui.window.msg("请选择一条数据",{time:2e3}),!1;n="";t(u.data).each(function(t,i){n+=i.id+","});f(n)});t("#reloadTable").on("click",u);n("rolelist",{})});